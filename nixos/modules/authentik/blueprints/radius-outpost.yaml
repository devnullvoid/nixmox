version: 1
metadata:
  name: RADIUS Outpost Setup
  description: Creates RADIUS provider and outpost for authentication

entries:
  - id: radius-provider
    model: authentik_providers_radius.radiusprovider
    identifiers:
      name: RADIUS Provider
    attrs:
      name: RADIUS Provider
      shared_secret: test-secret

  - id: radius-application
    model: authentik_core.application
    identifiers:
      slug: radius-access
    attrs:
      name: RADIUS Access
      slug: radius-access

  - id: radius-provider-application-link
    model: authentik_providers_radius.radiusprovider
    identifiers:
      name: RADIUS Provider
    attrs:
      application: !KeyOf radius-application

  - id: radius-outpost
    model: authentik_outposts.outpost
    identifiers:
      name: RADIUS Outpost
    attrs:
      name: RADIUS Outpost
      type: radius
    depends_on:
      - radius-provider
    relations:
      providers:
        - !KeyOf radius-provider
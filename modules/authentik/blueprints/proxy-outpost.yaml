version: 1
metadata:
  name: Proxy Outpost Setup
  description: Creates proxy provider and outpost for authentication

entries:
  - identifier: proxy-provider
    model: authentik_providers_proxy.proxyprovider
    attrs:
      name: Proxy Provider
      external_host: http://localhost:8080

  - identifier: proxy-outpost-token
    model: authentik_core.token
    attrs:
      identifier: proxy-outpost-token
      key: 4a79862a02aa0081c55f865d3ea7fba71ea881c643a762fc898381d67d937dea
      intent: api

  - identifier: proxy-outpost
    model: authentik_outposts.outpost
    attrs:
      name: Proxy Outpost
      type: authentik.outposts.proxy.ProxyOutpost
    depends_on:
      - proxy-provider
      - proxy-outpost-token
    relations:
      providers:
        - proxy-provider 